/* MEJORAS COMPLETA CSS - VERSION ARREGLADA
   Esta versión corrige el comportamiento de las tarjetas giratorias (flip‑cards)
   y mejora el contraste de colores en el modo oscuro y claro. Se basa en la
   hoja de estilos original `mejoras-completa.css`, eliminando la propiedad
   `transform` en el estado hover de las flip‑cards para evitar interferir
   con la rotación 3D y ajustando las reglas de tema para conservar la
   legibilidad.  */

/* --- Mejora de contraste para flip‑cards en modo claro --- */
.tema-claro .flip-card {
  background: linear-gradient(135deg, #f8f9fa, #e9ecef) !important;
  border: 2px solid #dee2e6 !important;
  color: #2c3e50 !important;
}

.tema-claro .flip-card-front,
.tema-claro .flip-card-back {
  color: #2c3e50 !important;
  background: transparent !important;
}

/* --- Mejora de contraste para flip‑cards en modo oscuro --- */
.tema-oscuro .flip-card {
  background: linear-gradient(135deg, #2d2d2d, #404040) !important;
  border-color: #404040 !important;
  color: #e0e0e0 !important;
}

.tema-oscuro .flip-card-front,
.tema-oscuro .flip-card-back {
  color: #e0e0e0 !important;
  background: transparent !important;
}

/* --- Eliminar el desplazamiento vertical en hover de flip‑cards --- */
/* Antes se utilizaba `transform: translateY(-2px)` en el estado :hover de
   .flip-card, lo que colisionaba con la rotación 3D aplicada cuando se
   añadía la clase `is-flipped`. Al eliminar esa transformación, se
   preserva la rotación correcta y el usuario sigue obteniendo un efecto
   visual mediante la sombra aumentada. */
.flip-card:hover {
  /* No tocar la rotación actual (rotateY) aplicada por .is-flipped */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
  transition: all 0.3s ease !important;
}

/* --- Reducir espaciado entre opciones en cuestionario --- */
.quiz-options li {
  margin-bottom: 0.6rem !important;
}

.quiz-options li:last-child {
  margin-bottom: 0 !important;
}

/* --- Ajustes de color para botones en modo claro --- */
.tema-claro button:not(.nav-button):not(.demo-button):not(.exam-button) {
  background: #E35336 !important;
  color: white !important;
  border: none !important;
}

.tema-claro button:not(.nav-button):not(.demo-button):not(.exam-button):hover {
  background: #C44529 !important;
}

/* --- Ajustes de color para enlaces --- */
.tema-claro a {
  color: #E35336 !important;
}

.tema-oscuro a {
  color: #74b9ff !important;
}

/* --- Formularios y campos de entrada --- */
.tema-claro input,
.tema-claro textarea,
.tema-claro select {
  background: #ffffff !important;
  border: 2px solid #dee2e6 !important;
  color: #2c3e50 !important;
}

.tema-oscuro input,
.tema-oscuro textarea,
.tema-oscuro select {
  background: #2c3e50 !important;
  border: 2px solid #34495e !important;
  color: #ecf0f1 !important;
}

/* --- General: transiciones suaves --- */
button,
.flip-card,
.card,
.quiz-options label,
a {
  transition: all 0.3s ease !important;
}

/* MEJORAS COMPLETA CSS - VERSION ARREGLADA v2
   Correcciones adicionales para las flip‑cards y mejora del contraste en
   el modo oscuro para los elementos seleccionados del cuestionario.
   Incluye todas las reglas de `fixed_mejoras-completa.css` y añade
   comportamientos específicos para hover y selección en modo oscuro. */

/* Importar las reglas base de la versión arreglada anterior */
@import url('fixed_mejoras-completa.css');

/* --- Control de transformaciones de las flip‑cards en hover --- */
/* Evitar que el estado :hover sobrescriba la rotación 3D de .is-flipped */
.flip-card:hover {
  transform: none !important; /* no aplicar desplazamientos verticales */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
}

/* Asegurar que si la tarjeta está girada, se mantenga la rotación al pasar el ratón */
.flip-card.is-flipped:hover {
  transform: rotateY(180deg) !important;
}

/* --- Mejorar el contraste de las opciones del cuestionario en modo oscuro --- */
.tema-oscuro .quiz-options label {
  background: #2d2d2d !important;
  border: 1px solid #404040 !important;
  color: #e0e0e0 !important;
}

.tema-oscuro .quiz-options label:hover {
  background: #333333 !important;
  border-color: #E35336 !important;
}

/* Estilo de los radios en modo oscuro para que el círculo seleccionado sea visible */
.tema-oscuro .quiz-options input[type="radio"] {
  accent-color: #E35336 !important;
}

